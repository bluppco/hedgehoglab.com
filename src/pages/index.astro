---
import { endpointFetch } from "../functions/endpoint"

// const runtime = Astro.locals.runtime;
// const endpoint = endpointFetch( runtime.env.ENVIRONMENT )

// // NETWORK CALL TO GET DATA
// const network_data = await fetch( endpoint + "/home" )
// const data_json = await network_data.json()

let home_work = null
// data_json.home.map( ( data ) => {

// 	if( data.section === "our-work" ){

// 		home_work = data

// 	}
// })


// IMPORT ASTRO LAYOUTS
import Layout from "../layouts/Layout.astro"

// IMPORT ASTRO COMPONENTS
import HeaderBanner from "../components/common/HeaderBanner.astro"
import Header from "../components/common/Header"
import Footer from "../components/common/footer/Footer.astro"

import WhatWeDo from "../components/home/WhatWeDo.astro"
import Services from "../components/home/Services.astro"
import Projects from "../components/home/Projects.astro"
import LatestWork from "../components/home/LatestWork.astro"
import WorkedWith from "../components/home/WorkedWith.astro"
import TeamUp from "../components/home/TeamUp.astro"
import FlutterWhitePaper from "../components/home/FlutterWhitePaper.astro"
import MeetUs from "../components/home/MeetUs.astro"
import HowWeDoIt from "../components/home/HowWeDoIt.astro"

// IMPORT JSX COMPONENTS
import Hero from "../components/home/Hero.jsx"

const images = [ "/hero-slider-image-1.png", "/hero-slider-image-2.png" ]
---
<Layout>
	<section class="relative h-screen max-h-screen overflow-hidden">
		<HeaderBanner />
		<Header client:load />
		<Hero data= { images } client:load />
	</section>
	<WhatWeDo />
	<Services />
	<Projects />
	<LatestWork work={ home_work ? home_work : null  }/>
	<WorkedWith />
	<HowWeDoIt />
	<FlutterWhitePaper />
	<MeetUs />
	<TeamUp />
	<Footer />
</Layout>
